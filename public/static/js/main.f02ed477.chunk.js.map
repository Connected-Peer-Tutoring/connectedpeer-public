{"version":3,"sources":["api.js","components/layout/Sidebar.js","components/layout/Navbar.js","components/appointments/ShowAppointment.js","components/appointments/CancelAppointment.js","components/appointments/ShowAppointments.js","components/user/Dashboard.js","components/tutorPosts/PostTutor.js","components/fileUtils/imageUtils.js","components/user/ChangePFP.js","components/user/UpdateUser.js","components/appointments/MakeAppointment.js","components/user/UserInfo.js","components/tutorPosts/TutorResult.js","components/tutorPosts/TutorSearchHelper.js","components/tutorPosts/GetTutorResults.js","components/tutorPosts/TutorSearch.js","components/user/Tutorial.js","components/chat/MessageContent.js","components/chat/Message.js","components/chat/Chat.js","components/Home.js","components/user/Login.js","App.js","index.js"],"names":["api","getLoggedIn","Promise","resolve","reject","axios","get","then","response","data","catch","err","getUser","getUserWithId","userId","postUserUpdate","obj","post","postTutorPost","makeAppointment","cancelAppointment","getTutorResults","getChats","getMessages","chatRoom","postNewPFP","formData","config","postNewFile","Sidebar","M","AutoInit","this","props","user_data","logged_in","className","src","alt","href","_id","image","displayName","email","contacts","map","contact","i","key","Avatar","variant","contacts_data","firstName","Component","Navbar","data-target","id","ShowAppointment","state","tutor","appointment","setState","moment","local","format","style","margin","target","rel","onClick","updateChosenAppointment","CancelAppointment","onSubmit","bind","openSuccess","openErr","e","preventDefault","json","success","window","location","reload","Snackbar","open","autoHideDuration","onClose","handleClose","elevation","severity","ShowAppointments","appointments","length","v","updateState","Dashboard","grade","goal","Math","ceil","log10","hours","width","PostTutor","onChangeAvailableStart","onChangeAvailableEnd","onChangeSubjects","onChangeBio","availableStart","startOf","add","availableEnd","subjects","bio","openErrTime","openErrTime1","openErrSubject","openErrBio","value","aStart","clone","aEnd","hour","minute","utc","valueOf","tutorAvailability","floor","indexOf","push","newTutorPost","Grid","container","justify","utils","MomentUtils","label","onChange","KeyboardButtonProps","Autocomplete","multiple","size","options","SubjectList","getOptionLabel","option","filterSelectedOptions","defaultValue","renderInput","params","TextField","helperText","multiline","fullWidth","placeholder","type","base64StringtoFile","base64String","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","extractImageFileExtensionFromBase64","base64Data","substring","acceptedFileTypes","acceptedFileTypesArray","item","trim","ChangePFP","imagePreviewCanvasRef","React","createRef","fileInputRef","verifyFile","handleOnDrop","handleOnCropChange","handleOnCropComplete","handleClearToDefault","handleUpload","handleFileSelect","imgSrc","imgSrcExt","cropped","waiting","crop","aspect","openErrFile","files","currentFile","currentFileType","includes","rejectedFiles","myFileItemReader","FileReader","addEventListener","myResult","result","readAsDataURL","pixelCrop","canvasRef","image64","canvas","height","ctx","getContext","Image","onload","drawImage","x","y","image64toCanvasRef","current","event","clearRect","imageData64","toDataURL","myFilename","myNewCroppedFile","FormData","header","append","sucess","onComplete","ref","onDrop","accept","maxSize","getRootProps","getInputProps","UpdateUser","onChangeDisplayName","onChangeFirstName","onChangeLastName","onChangeGrade","onChangeSubject","onChangeTutorAvailability","lastName","filter","subject","toString","replace","t","updatedUser","reason","GradeList","findIndex","ar","t0","disabled","MakeAppointment","openErrWait","newAppointment","appointment_time","tutor_data","UserInfo","chosenDate","user_dne","flat","UserInfoWithRouter","withRouter","TutorResult","time","TutorSearchHelper","useState","pageNumber","setPageNumber","query","loading","setLoading","error","setError","tutors","setTutors","hasMore","setHasMore","useEffect","q","page","prevTutors","Set","tutorIDs","GetTutorResults","observer","useRef","lastTutorElementRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","index","TutorSearch","handleSelect","openErrTime2","openErrSubjects","Date","Tutorial","title","frameborder","allow","allowfullscreen","mozallowfullscreen","msallowfullscreen","oallowfullscreen","webkitallowfullscreen","MessageContent","message","toLowerCase","Message","senderIsMe","Chat","handleWrite","submitChatMessage","roomId","chatMessage","messages","a","sort","b","createdAt","setTimeout","messagesEnd","scrollIntoView","behavior","nextProps","chat_passwords","socket","io","emit","on","messageFromServer","newMessage","sender","fileLink","el","float","clear","ChatWithRouter","Home","to","pathname","exact","path","render","Login","class","onMouseOver","currentTarget","onMouseOut","App","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f02ed477.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseAPI = '/api';\n\nconst api = {\n  getLoggedIn() {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(`${baseAPI}`)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  getUser() {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(`${baseAPI}/user`)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  getUserWithId(userId) {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(`${baseAPI}/user/${userId}`)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  postUserUpdate(obj) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/updateUser`, obj)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  postTutorPost(obj) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/tutorPost`, obj)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  makeAppointment(obj) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/makeAppointment`, obj)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  cancelAppointment(obj) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/cancelAppointment`, obj)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  getTutorResults(obj) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/getTutors`, obj)\n        .then((response) => {\n          resolve(response.data);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  getChats() {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(`${baseAPI}/chat`)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  getMessages(chatRoom) {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(`${baseAPI}/chat/${chatRoom}`)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  postNewPFP(formData, config) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/profile-img-upload`, formData, config)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  postNewFile(formData, config) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${baseAPI}/file-upload`, formData, config)\n        .then((response) => resolve(response.data))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n};\n\nexport default api;\n","import React, { Component } from 'react';\r\nimport M from 'materialize-css';\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nclass Sidebar extends Component {\r\n  async componentDidMount() {\r\n    M.AutoInit();\r\n  }\r\n\r\n  render() {\r\n    if (this.props.user_data.logged_in) {\r\n      return (\r\n        <div>\r\n          <li>\r\n            <div className='user-view'>\r\n              <div className='background'>\r\n                <img src='/images/cloudBackground.jpg' alt='user background' />\r\n              </div>\r\n              <a href={'/user/' + this.props.user_data._id}>\r\n                <img\r\n                  className='circle'\r\n                  src={this.props.user_data.image}\r\n                  alt='user pfp'\r\n                />\r\n              </a>\r\n              <a href={'/user/' + this.props.user_data._id}>\r\n                <span className='white-text name'>\r\n                  {this.props.user_data.displayName}\r\n                </span>\r\n              </a>\r\n              <a href={'/user/' + this.props.user_data._id}>\r\n                <span className='white-text email'>\r\n                  {this.props.user_data.email}\r\n                </span>\r\n              </a>\r\n              <a href='/user/update'>\r\n                <span className='white-text'>\r\n                  <i className='fas fa-user-circle fa-small' /> Edit User Info\r\n                </span>\r\n              </a>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <a className='waves-effect' href='/'>\r\n              Dashboard\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='waves-effect' href='/appointments'>\r\n              Appointments\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <div className='divider'></div>\r\n          </li>\r\n          <li>\r\n            <a className='waves-effect waves-cyan' href='/learn'>\r\n              Learn as a Student\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className='waves-effect waves-green' href='/volunteer'>\r\n              Volunteer as a Tutor\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <div className='divider'></div>\r\n          </li>\r\n          <li>\r\n            <a className='subheader' href='#!'>\r\n              Contacts:\r\n            </a>\r\n          </li>\r\n          {this.props.user_data.contacts.map((contact, i) => {\r\n            return (\r\n              <li key={i}>\r\n                <a\r\n                  className='waves-effect waves-green'\r\n                  href={'/user/' + contact}>\r\n                  <div className='row center'>\r\n                    <div className='col s2'>\r\n                      <Avatar\r\n                        variant='square'\r\n                        className='avatar-helper'\r\n                        src={this.props.user_data.contacts_data[contact].image}\r\n                        alt={\r\n                          this.props.user_data.contacts_data[contact]\r\n                            .firstName + \"'s pfp\"\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className='col s10'>\r\n                      {this.props.user_data.contacts_data[contact].displayName}\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n            );\r\n          })}\r\n          <li>\r\n            <div className='divider'></div>\r\n          </li>\r\n          <li>\r\n            <a className='subheader' href='https://connectedpeertutoring.org/'>\r\n              © 2020 CPT\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              className='waves-effect'\r\n              href='https://connectedpeertutoring.org/about'>\r\n              About Us\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              className='waves-effect'\r\n              href='https://connectedpeertutoring.org/report'>\r\n              Report\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              className='waves-effect'\r\n              href='https://connectedpeertutoring.org/privacy-policy'>\r\n              Privacy Policy\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <div className='divider'></div>\r\n          </li>\r\n          <li>\r\n            <a className='waves-effect' href='/auth/logout'>\r\n              Logout\r\n            </a>\r\n          </li>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <div>\r\n          <li>\r\n            <a\r\n              className='waves-effect'\r\n              href='https://connectedpeertutoring.org'>\r\n              About Us\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <div className='divider'></div>\r\n          </li>\r\n          <li>\r\n            <a className='waves-effect' href='/auth/google'>\r\n              Login/Signup\r\n            </a>\r\n          </li>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Sidebar;\r\n","import React, { Component } from 'react';\r\nimport Sidebar from './Sidebar';\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    return (\r\n      <nav className='primary-color-background'>\r\n        <div className='nav-wrapper'>\r\n          <a href='/' className='brand-logo center'>\r\n            ConnectedPeer\r\n          </a>\r\n          <a\r\n            href='/'\r\n            data-target='slide-out'\r\n            className='sidenav-trigger show-on-large'>\r\n            <i className='material-icons'>menu</i>\r\n          </a>\r\n          <ul className='sidenav' id='slide-out'>\r\n            <Sidebar user_data={this.props.user_data} />\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\n\r\nclass ShowAppointment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userId: null,\r\n      tutor: null\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (\r\n      (await this.props.appointment[1]) === (await this.props.user_data._id)\r\n    ) {\r\n      this.setState({ userId: this.props.appointment[2], tutor: false });\r\n    } else {\r\n      this.setState({ userId: this.props.appointment[1], tutor: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.userId || !this.props.user_data.contacts_data) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (!this.props.appointment[5]) return null;\r\n    return (\r\n      <div className={this.state.tutor ? 'card-panel teal' : 'card-panel cyan'}>\r\n        <div className='row'>\r\n          <div className='col s12 xl6'>\r\n            <a href={'/user/' + this.state.userId}>\r\n              <h5 className='white-text'>\r\n                <strong>\r\n                  Appointment with{' '}\r\n                  {\r\n                    this.props.user_data.contacts_data[this.state.userId]\r\n                      .displayName\r\n                  }\r\n                </strong>\r\n              </h5>\r\n            </a>\r\n            <h6 className='white-text'>\r\n              {moment(this.props.appointment[0])\r\n                .local()\r\n                .format('h:mm A, dddd MMMM Do, YYYY')}\r\n            </h6>\r\n          </div>\r\n          <div className='col s12 xl6'>\r\n            <a\r\n              className='waves-effect white-text'\r\n              href={'/user/' + this.state.userId}>\r\n              <h5 className='white-text'>\r\n                Tutor:{' '}\r\n                {this.state.tutor\r\n                  ? this.props.user_data.displayName\r\n                  : this.props.user_data.contacts_data[this.state.userId]\r\n                      .displayName}\r\n              </h5>\r\n            </a>\r\n          </div>\r\n          <div className='col'>\r\n            <div className='divider' />\r\n            <a\r\n              className={\r\n                this.state.tutor\r\n                  ? 'waves-effect btn white teal-text'\r\n                  : 'waves-effect btn white cyan-text'\r\n              }\r\n              style={{ margin: '0.5em' }}\r\n              href={\r\n                '/chat/' +\r\n                this.props.user_data.contacts_data[this.state.userId].chatRoom\r\n              }>\r\n              Chat<i className='material-icons right'>chat</i>\r\n            </a>{' '}\r\n            <a\r\n              className={\r\n                this.state.tutor\r\n                  ? 'waves-effect btn white teal-text'\r\n                  : 'waves-effect btn white cyan-text'\r\n              }\r\n              style={{ margin: '0.5em' }}\r\n              target='_blank'\r\n              rel='noopener noreferrer'\r\n              href={this.props.appointment[4]}>\r\n              Join Google Meet<i className='material-icons right'>videocam</i>\r\n            </a>{' '}\r\n            <a\r\n              className={\r\n                this.state.tutor\r\n                  ? 'waves-effect btn white teal-text'\r\n                  : 'waves-effect btn white cyan-text'\r\n              }\r\n              style={{ margin: '0.5em' }}\r\n              target='_blank'\r\n              rel='noopener noreferrer'\r\n              href={\r\n                'https://jamboard.google.com/d/' + this.props.appointment[5]\r\n              }>\r\n              Open Jamboard<i className='material-icons right'>create</i>\r\n            </a>{' '}\r\n            <a\r\n              className={\r\n                this.state.tutor\r\n                  ? 'waves-effect btn teal white-text modal-trigger'\r\n                  : 'waves-effect btn cyan white-text modal-trigger'\r\n              }\r\n              style={{ margin: '0.5em' }}\r\n              href='#cancelAppointmentModal'\r\n              onClick={() =>\r\n                this.props.updateChosenAppointment(\r\n                  this.props.appointment,\r\n                  this.props.user_data.contacts_data[this.state.userId]\r\n                )\r\n              }>\r\n              Cancel <i className='material-icons right'>delete_forever</i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShowAppointment;\r\n","import React, { Component } from 'react';\r\nimport M from 'materialize-css';\r\nimport moment from 'moment';\r\nimport api from '../../api';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nclass CancelAppointment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      openSuccess: false,\r\n      openErr: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    M.AutoInit();\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    await api.cancelAppointment(this.props.appointment).then((json) => {\r\n      if (json.success) this.setState({ openSuccess: true });\r\n      else this.setState({ openErr: true });\r\n    });\r\n    window.location.reload();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span\r\n        onClick={(e) => this.setState({ openErr: false, openSuccess: false })}>\r\n        <div id={'cancelAppointmentModal'} className='modal'>\r\n          <div className='modal-content'>\r\n            <h3 className='red-text'>\r\n              Cancel Appointment with {this.props.user_data.firstName}\r\n            </h3>\r\n            <h4>\r\n              {moment(this.props.appointment[0])\r\n                .local()\r\n                .format('h:mm A, dddd MMMM Do, YYYY')}\r\n            </h4>\r\n            <h5 className='red-text'>\r\n              You may be penalized for cancelling an appointment\r\n            </h5>\r\n          </div>\r\n          <div className='modal-footer'>\r\n            <a\r\n              href='#!'\r\n              className='waves-effect waves-light btn red modal-close'\r\n              onClick={this.onSubmit}>\r\n              Cancel Appointment\r\n              <i className='material-icons right'>delete_forever</i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <Snackbar\r\n          open={this.state.openErr}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErr: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Appointment could not be cancelled\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openSuccess}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openSuccess: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='success'>\r\n            Appointment with {this.props.user_data.firstName} cancelled\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CancelAppointment;\r\n","import React, { Component } from 'react';\r\nimport ShowAppointment from './ShowAppointment';\r\nimport CancelAppointment from './CancelAppointment';\r\n\r\nclass ShowAppointments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateChosenAppointment = this.updateChosenAppointment.bind(this);\r\n\r\n    this.state = {\r\n      appointment: [],\r\n      user_data: {},\r\n      tutor: null\r\n    };\r\n  }\r\n\r\n  updateChosenAppointment(appointment, user_data) {\r\n    this.setState({ appointment: appointment, user_data: user_data });\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.props.user_data.appointments.length > 0)\r\n      return (\r\n        <div>\r\n          <h5>Future Appointments:</h5>\r\n          {this.props.user_data.appointments.map((v, i) => {\r\n            return (\r\n              <ShowAppointment\r\n                key={i}\r\n                user_data={this.props.user_data}\r\n                appointment={v}\r\n                updateChosenAppointment={this.updateChosenAppointment}\r\n              />\r\n            );\r\n          })}\r\n          <CancelAppointment\r\n            user_data={this.state.user_data}\r\n            appointment={this.state.appointment}\r\n            updateState={this.props.updateState}\r\n          />\r\n        </div>\r\n      );\r\n    else return <h5>You have no future appointments</h5>;\r\n  }\r\n}\r\n\r\nexport default ShowAppointments;\r\n","import React, { Component } from 'react';\r\nimport ShowAppointments from '../appointments/ShowAppointments';\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    if (!this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.props.user_data.grade === 0) window.location.href = '/tutorial';\r\n    var goal = Math.ceil(\r\n      0.25 *\r\n        10 ** Math.ceil(Math.log10(this.props.user_data.hours + 1)) *\r\n        Math.ceil(\r\n          (this.props.user_data.hours + 1) /\r\n            (0.25 * 10 ** Math.ceil(Math.log10(this.props.user_data.hours + 1)))\r\n        )\r\n    );\r\n    return (\r\n      <div>\r\n        <div className='row'>\r\n          <div className='col s12 xl8 offset-xl2'>\r\n            <h4 className='primary-color'>\r\n              Welcome {this.props.user_data.displayName}\r\n            </h4>\r\n            <div>\r\n              You have volunteered for: {this.props.user_data.hours} hours\r\n            </div>\r\n            <div>Current Goal: {goal} hours</div>\r\n            <div className='progress'>\r\n              <div\r\n                className='determinate teal'\r\n                style={{\r\n                  width: (this.props.user_data.hours / goal) * 100 + '%'\r\n                }}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col s12 xl4 offset-xl2'>\r\n            <ShowAppointments\r\n              user_data={this.props.user_data}\r\n              updateState={this.props.updateState}\r\n            />\r\n          </div>\r\n          <div className='col s12 xl4'>\r\n            <h5>Get started:</h5>\r\n            <div className='card-panel flex-container'>\r\n              <h5 className='cyan-text space-between'>\r\n                Learn as a peer student\r\n                <a\r\n                  className='waves-effect waves-light btn-large cyan'\r\n                  href='/learn'>\r\n                  <i className='material-icons'>trending_up</i>\r\n                </a>\r\n              </h5>\r\n            </div>\r\n            <div className='card-panel flex-container'>\r\n              <h5 className='teal-text space-between'>\r\n                Volunteer as a peer tutor\r\n                <a\r\n                  className='waves-effect waves-light btn-large teal'\r\n                  href='/volunteer'>\r\n                  <i className='material-icons'>trending_up</i>\r\n                </a>\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from 'react';\r\nimport MomentUtils from '@date-io/moment';\r\nimport moment from 'moment';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker\r\n} from '@material-ui/pickers';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nimport api from '../../api';\r\n\r\nclass PostTutor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeAvailableStart = this.onChangeAvailableStart.bind(this);\r\n    this.onChangeAvailableEnd = this.onChangeAvailableEnd.bind(this);\r\n    this.onChangeSubjects = this.onChangeSubjects.bind(this);\r\n    this.onChangeBio = this.onChangeBio.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      availableStart: moment().startOf('hour').add(24, 'h'),\r\n      availableEnd: moment().startOf('hour').add(25, 'h'),\r\n      subjects: [],\r\n      bio: '',\r\n      openSuccess: false,\r\n      openErrTime: false,\r\n      openErrTime1: false,\r\n      openErrSubject: false,\r\n      openErrBio: false\r\n    };\r\n  }\r\n\r\n  onChangeAvailableStart(e) {\r\n    this.setState({\r\n      availableStart: e,\r\n      openSuccess: false,\r\n      openErrTime: false,\r\n      openErrSubject: false,\r\n      openErrBio: false\r\n    });\r\n  }\r\n\r\n  onChangeAvailableEnd(e) {\r\n    this.setState({\r\n      availableEnd: e,\r\n      openSuccess: false,\r\n      openErrTime: false,\r\n      openErrSubject: false,\r\n      openErrBio: false\r\n    });\r\n  }\r\n\r\n  onChangeSubjects(e, v) {\r\n    this.setState({\r\n      subjects: v,\r\n      openSuccess: false,\r\n      openErrTime: false,\r\n      openErrSubject: false,\r\n      openErrBio: false\r\n    });\r\n  }\r\n\r\n  onChangeBio(e) {\r\n    this.setState({\r\n      bio: e.target.value,\r\n      openSuccess: false,\r\n      openErrTime: false,\r\n      openErrSubject: false,\r\n      openErrBio: false\r\n    });\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    var aStart = this.state.availableStart.clone();\r\n    var aEnd = this.state.availableEnd.clone();\r\n    aEnd = aStart\r\n      .clone()\r\n      .startOf('day')\r\n      .hour(aEnd.hour())\r\n      .minute(aEnd.minute())\r\n      .utc()\r\n      .valueOf();\r\n    aStart = aStart.utc().valueOf();\r\n\r\n    if (aEnd < aStart && aEnd - aStart <= 43200000) {\r\n      aEnd = aEnd + 86400000;\r\n    }\r\n\r\n    if (aStart + 3600000 > aEnd) {\r\n      this.setState({\r\n        openErrTime: true\r\n      });\r\n    } else if (aEnd - aStart > 28800000) {\r\n      this.setState({\r\n        openErrTime1: true\r\n      });\r\n    } else if (\r\n      this.state.subjects.length === 0 &&\r\n      this.props.user_data.subjects.length === 0\r\n    ) {\r\n      this.setState({\r\n        openErrSubject: true\r\n      });\r\n    } else if (\r\n      this.state.bio.length === 0 &&\r\n      this.props.user_data.bio.length === 0\r\n    ) {\r\n      this.setState({\r\n        openErrBio: true\r\n      });\r\n    } else {\r\n      var tutorAvailability = this.props.user_data.tutorAvailability;\r\n      for (\r\n        var i = Math.ceil(aStart / 1800000);\r\n        i < Math.floor(aEnd / 1800000);\r\n        i++\r\n      ) {\r\n        if (tutorAvailability.indexOf(i * 1800000) < 0)\r\n          tutorAvailability.push(i * 1800000);\r\n      }\r\n      const newTutorPost = {\r\n        subjects:\r\n          this.state.subjects.length === 0\r\n            ? this.props.user_data.subjects\r\n            : this.state.subjects,\r\n        bio: !this.state.bio ? this.props.user_data.bio : this.state.bio,\r\n        tutorAvailability: tutorAvailability\r\n      };\r\n      api.postTutorPost(newTutorPost);\r\n      this.setState({\r\n        openSuccess: true\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className='row'>\r\n        <div className='col s12 xl6 offset-xl3'>\r\n          <div className='row'>\r\n            <form\r\n              className='col s12'\r\n              onSubmit={this.onSubmit}\r\n              id='Post_Tutor_Form'>\r\n              <div className='row'>\r\n                <div className='input-field col s12'>\r\n                  <Grid container justify='space-between'>\r\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\r\n                      <KeyboardDatePicker\r\n                        variant='inline'\r\n                        margin='normal'\r\n                        id='date_available'\r\n                        label='Date available'\r\n                        format='M/D/YYYY'\r\n                        value={this.state.availableStart}\r\n                        onChange={this.onChangeAvailableStart}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change date'\r\n                        }}\r\n                      />\r\n                      <KeyboardTimePicker\r\n                        variant='inline'\r\n                        margin='normal'\r\n                        id='time_available_start'\r\n                        label='Available time range start'\r\n                        value={this.state.availableStart}\r\n                        onChange={this.onChangeAvailableStart}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change time'\r\n                        }}\r\n                      />\r\n                      <KeyboardTimePicker\r\n                        variant='inline'\r\n                        margin='normal'\r\n                        id='time_available_end'\r\n                        label='Available time range end'\r\n                        value={this.state.availableEnd}\r\n                        onChange={this.onChangeAvailableEnd}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change time'\r\n                        }}\r\n                      />\r\n                    </MuiPickersUtilsProvider>\r\n                  </Grid>\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n                <div className='input-field col s12'>\r\n                  <Autocomplete\r\n                    multiple\r\n                    id='subjects'\r\n                    size='small'\r\n                    options={SubjectList}\r\n                    getOptionLabel={(option) => option}\r\n                    filterSelectedOptions\r\n                    defaultValue={this.props.user_data.subjects}\r\n                    onChange={this.onChangeSubjects}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        label='Subjects'\r\n                        helperText='List the subjects you can be a tutor in'\r\n                      />\r\n                    )}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n                <div className='input-field col s12'>\r\n                  <TextField\r\n                    margin='normal'\r\n                    id='standard-multiline-static'\r\n                    multiline\r\n                    fullWidth\r\n                    placeholder=\"Ex: I'm a junior in University High School. I have been a peer tutor for 3 months. I have recieved a 5 on AP Biology and AP Calculus AB and can tutor in those subjects.\"\r\n                    label='Bio:'\r\n                    defaultValue={this.props.user_data.bio}\r\n                    helperText='Provide information about you for the peer students'\r\n                    onChange={this.onChangeBio}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <input\r\n                type='submit'\r\n                value='Post'\r\n                className='waves-effect waves-light btn teal'\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <Snackbar\r\n          open={this.state.openErrTime}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrTime: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Your availabilty must be atleast an hour\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrTime1}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrTime1: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            You can only post up to 8 hours\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrSubject}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrSubject: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Please input the subject(s) you can tutor\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrBio}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrBio: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Please input more information on your bio\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openSuccess}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openSuccess: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='success'>\r\n            Your tutor availabilty has been succesfully posted\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SubjectList = [\r\n  'Math',\r\n  'Algebra',\r\n  'Algebra 2',\r\n  'Geometry',\r\n  'Precalculus',\r\n  'AP Statistics',\r\n  'Calculus',\r\n  'AP Calculus AB',\r\n  'AP Calculus BC',\r\n  'AP Economics Micro',\r\n  'AP Economics Macro',\r\n  'Biology',\r\n  'AP Biology',\r\n  'AP Enviromental Science',\r\n  'Chemistry',\r\n  'AP Chemistry',\r\n  'Physics',\r\n  'AP Physics 1',\r\n  'AP Physics 2',\r\n  'AP Physics C',\r\n  'English',\r\n  'AP English Lang',\r\n  'AP English Lit',\r\n  'AP Psychology',\r\n  'History',\r\n  'AP Human Geography',\r\n  'AP US History',\r\n  'AP European History',\r\n  'AP World History',\r\n  'Spanish',\r\n  'AP Spanish',\r\n  'Chinese',\r\n  'AP Chinese',\r\n  'French',\r\n  'AP French',\r\n  'AP Computer Science P',\r\n  'AP Computer Science A'\r\n];\r\n\r\nexport default PostTutor;\r\n","// Convert a Base64-encoded string to a File object\r\nexport function base64StringtoFile(base64String, filename) {\r\n  var arr = base64String.split(','),\r\n    mime = arr[0].match(/:(.*?);/)[1],\r\n    bstr = atob(arr[1]),\r\n    n = bstr.length,\r\n    u8arr = new Uint8Array(n);\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n  return new File([u8arr], filename, { type: mime });\r\n}\r\n\r\n// Download a Base64-encoded file\r\nexport function downloadBase64File(base64Data, filename) {\r\n  var element = document.createElement('a');\r\n  element.setAttribute('href', base64Data);\r\n  element.setAttribute('download', filename);\r\n  element.style.display = 'none';\r\n  document.body.appendChild(element);\r\n  element.click();\r\n  document.body.removeChild(element);\r\n}\r\n\r\n// Extract an Base64 Image's File Extension\r\nexport function extractImageFileExtensionFromBase64(base64Data) {\r\n  return base64Data.substring(\r\n    'data:image/'.length,\r\n    base64Data.indexOf(';base64')\r\n  );\r\n}\r\n\r\n// Base64 Image to Canvas with a Crop\r\nexport function image64toCanvasRef(canvasRef, image64, pixelCrop) {\r\n  const canvas = canvasRef; // document.createElement('canvas');\r\n  canvas.width = pixelCrop.width;\r\n  canvas.height = pixelCrop.height;\r\n  const ctx = canvas.getContext('2d');\r\n  const image = new Image();\r\n  image.src = image64;\r\n  image.onload = function () {\r\n    ctx.drawImage(\r\n      image,\r\n      pixelCrop.x,\r\n      pixelCrop.y,\r\n      pixelCrop.width,\r\n      pixelCrop.height,\r\n      0,\r\n      0,\r\n      pixelCrop.width,\r\n      pixelCrop.height\r\n    );\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\nimport M from 'materialize-css';\r\nimport api from '../../api';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nimport Dropzone from 'react-dropzone';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nimport {\r\n  base64StringtoFile,\r\n  extractImageFileExtensionFromBase64,\r\n  image64toCanvasRef\r\n} from '../fileUtils/imageUtils';\r\n\r\nconst imageMaxSize = 5000000; // bytes\r\nconst acceptedFileTypes =\r\n  'image/x-png, image/png, image/jpg, image/jpeg, image/gif';\r\nconst acceptedFileTypesArray = acceptedFileTypes.split(',').map((item) => {\r\n  return item.trim();\r\n});\r\n\r\nclass ChangePFP extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.imagePreviewCanvasRef = React.createRef();\r\n    this.fileInputRef = React.createRef();\r\n\r\n    this.verifyFile = this.verifyFile.bind(this);\r\n    this.handleOnDrop = this.handleOnDrop.bind(this);\r\n    this.handleOnCropChange = this.handleOnCropChange.bind(this);\r\n    this.handleOnCropComplete = this.handleOnCropComplete.bind(this);\r\n    this.handleClearToDefault = this.handleClearToDefault.bind(this);\r\n    this.handleUpload = this.handleUpload.bind(this);\r\n    this.handleFileSelect = this.handleFileSelect.bind(this);\r\n\r\n    this.state = {\r\n      imgSrc: null,\r\n      imgSrcExt: null,\r\n      cropped: false,\r\n      waiting: false,\r\n      crop: {\r\n        aspect: 1 / 1\r\n      },\r\n      openErrFile: false,\r\n      openErr: false,\r\n      openSuccess: false\r\n    };\r\n  }\r\n\r\n  verifyFile(files) {\r\n    if (files && files.length > 0) {\r\n      const currentFile = files[0];\r\n      const currentFileType = currentFile.type;\r\n      const currentFileSize = currentFile.size;\r\n      if (currentFileSize > imageMaxSize) {\r\n        this.setState({ openErrFile: true });\r\n        return false;\r\n      }\r\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\r\n        this.setState({ openErrFile: true });\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleOnDrop(files, rejectedFiles) {\r\n    if (rejectedFiles && rejectedFiles.length > 0) {\r\n      this.verifyFile(rejectedFiles);\r\n    }\r\n\r\n    if (files && files.length > 0) {\r\n      const isVerified = this.verifyFile(files);\r\n      if (isVerified) {\r\n        // imageBase64Data\r\n        const currentFile = files[0];\r\n        const myFileItemReader = new FileReader();\r\n        myFileItemReader.addEventListener(\r\n          'load',\r\n          () => {\r\n            const myResult = myFileItemReader.result;\r\n            this.setState({\r\n              imgSrc: myResult,\r\n              imgSrcExt: extractImageFileExtensionFromBase64(myResult)\r\n            });\r\n          },\r\n          false\r\n        );\r\n\r\n        myFileItemReader.readAsDataURL(currentFile);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleOnCropChange(crop) {\r\n    this.setState({ crop: crop });\r\n  }\r\n\r\n  handleOnCropComplete(crop, pixelCrop) {\r\n    const canvasRef = this.imagePreviewCanvasRef.current;\r\n    const { imgSrc } = this.state;\r\n    image64toCanvasRef(canvasRef, imgSrc, pixelCrop);\r\n    this.setState({ cropped: true });\r\n  }\r\n\r\n  handleClearToDefault(event) {\r\n    if (event) event.preventDefault();\r\n    const canvas = this.imagePreviewCanvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    this.setState({\r\n      imgSrc: null,\r\n      imgSrcExt: null,\r\n      cropped: false,\r\n      waiting: false,\r\n      crop: {\r\n        aspect: 1 / 1\r\n      },\r\n      openErr: false,\r\n      openSuccess: false\r\n    });\r\n    this.fileInputRef.current = null;\r\n  }\r\n\r\n  async handleUpload(event) {\r\n    event.preventDefault();\r\n    this.setState({ waiting: true });\r\n    const { imgSrc } = this.state;\r\n    if (imgSrc) {\r\n      const canvasRef = this.imagePreviewCanvasRef.current;\r\n\r\n      const { imgSrcExt } = this.state;\r\n      const imageData64 = canvasRef.toDataURL('image/' + imgSrcExt);\r\n\r\n      const myFilename =\r\n        this.props.user_data._id + '_Profile_Picture.' + imgSrcExt;\r\n\r\n      // file to be uploaded\r\n      const myNewCroppedFile = base64StringtoFile(imageData64, myFilename);\r\n      // post PFP\r\n      let formData = new FormData();\r\n\r\n      const config = {\r\n        header: { 'content-type': 'multipart/form-data' }\r\n      };\r\n\r\n      formData.append('file', myNewCroppedFile);\r\n\r\n      api.postNewPFP(formData, config).then((json) => {\r\n        if (json.sucess) {\r\n          this.setState({ openSuccess: true });\r\n          this.handleClearToDefault(event);\r\n          window.location.reload();\r\n        } else {\r\n          this.setState({ openErr: true });\r\n          this.handleClearToDefault(event);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleFileSelect(event) {\r\n    const files = event.target.files;\r\n    if (files && files.length > 0) {\r\n      const isVerified = this.verifyFile(files);\r\n      if (isVerified) {\r\n        // imageBase64Data\r\n        const currentFile = files[0];\r\n        const myFileItemReader = new FileReader();\r\n        myFileItemReader.addEventListener(\r\n          'load',\r\n          () => {\r\n            const myResult = myFileItemReader.result;\r\n            this.setState({\r\n              imgSrc: myResult,\r\n              imgSrcExt: extractImageFileExtensionFromBase64(myResult)\r\n            });\r\n          },\r\n          false\r\n        );\r\n\r\n        myFileItemReader.readAsDataURL(currentFile);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    M.AutoInit();\r\n  }\r\n\r\n  render() {\r\n    const { imgSrc } = this.state;\r\n    return (\r\n      <span\r\n        onClick={(e) => this.setState({ openErr: false, openSuccess: false })}>\r\n        <div id={'changePFPModal'} className='modal'>\r\n          <div className='modal-content'>\r\n            <h3 className='primary-color'>Change Profile Picture</h3>\r\n            {imgSrc !== null ? (\r\n              <div className='row'>\r\n                <div className='col s12 xl6 offset-xl3'>\r\n                  <div className='card-panel center'>\r\n                    <ReactCrop\r\n                      src={imgSrc}\r\n                      crop={this.state.crop}\r\n                      onComplete={this.handleOnCropComplete}\r\n                      onChange={this.handleOnCropChange}\r\n                    />\r\n                    <canvas\r\n                      ref={this.imagePreviewCanvasRef}\r\n                      style={{ height: '0' }}\r\n                    />\r\n                    {this.state.waiting ? (\r\n                      <div className='center'>\r\n                        <div className='preloader-wrapper big active'>\r\n                          <div className='spinner-layer spinner-blue-only'>\r\n                            <div className='circle-clipper left'>\r\n                              <div className='circle'></div>\r\n                            </div>\r\n                            <div className='gap-patch'>\r\n                              <div className='circle'></div>\r\n                            </div>\r\n                            <div className='circle-clipper right'>\r\n                              <div className='circle'></div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        {this.state.cropped ? (\r\n                          <div>\r\n                            <button\r\n                              className='waves-effect waves-light btn'\r\n                              style={{ margin: '0.5em' }}\r\n                              onClick={this.handleUpload}>\r\n                              Change{' '}\r\n                              <i className='material-icons right'>send</i>\r\n                            </button>\r\n                          </div>\r\n                        ) : (\r\n                          <h6 className='primary-color'>Crop your picture</h6>\r\n                        )}\r\n                        <button\r\n                          className='waves-effect waves-light btn'\r\n                          style={{ margin: '0.5em' }}\r\n                          onClick={this.handleClearToDefault}>\r\n                          Clear\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <Dropzone\r\n                onDrop={this.handleOnDrop}\r\n                accept={acceptedFileTypes}\r\n                multiple={false}\r\n                maxSize={imageMaxSize}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                  <div\r\n                    className='card-panel center'\r\n                    style={{ margin: '0.5em', height: '35vh' }}\r\n                    {...getRootProps()}>\r\n                    <input {...getInputProps()} />\r\n                    <h5 className='primary-color'>\r\n                      Drop or upload new PFP {'&'} crop\r\n                    </h5>\r\n                  </div>\r\n                )}\r\n              </Dropzone>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <Snackbar\r\n          open={this.state.openErrFile}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({ openErrFile: false });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Only images under 5 mb are accepted\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErr}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({ openErr: false });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Profile picture could not be changed\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openSuccess}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({ openSuccess: false });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='success'>\r\n            Profile picture was successfully changed\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangePFP;\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nimport api from '../../api';\r\nimport ChangePFP from './ChangePFP';\r\n\r\nclass UpdateUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeDisplayName = this.onChangeDisplayName.bind(this);\r\n    this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n    this.onChangeLastName = this.onChangeLastName.bind(this);\r\n    this.onChangeGrade = this.onChangeGrade.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onChangeBio = this.onChangeBio.bind(this);\r\n    this.onChangeSubject = this.onChangeSubject.bind(this);\r\n    this.onChangeTutorAvailability = this.onChangeTutorAvailability.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      _id: null,\r\n      email: null,\r\n      subjects: [],\r\n      tutorAvailability: [],\r\n      displayName: null,\r\n      grade: 0,\r\n      firstName: null,\r\n      lastName: null,\r\n      bio: null,\r\n      openSuccess: false,\r\n      openErr: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    api.getUser().then((json) => {\r\n      this.setState({\r\n        _id: json._id,\r\n        email: json.email,\r\n        subjects: json.subjects,\r\n        tutorAvailability: json.tutorAvailability,\r\n        displayName: json.displayName,\r\n        grade: json.grade,\r\n        firstName: json.firstName,\r\n        lastName: json.lastName,\r\n        bio: json.bio\r\n      });\r\n    });\r\n  }\r\n\r\n  onChangeDisplayName(e) {\r\n    this.setState({\r\n      displayName: e.target.value,\r\n      openSuccess: false,\r\n      openErr: false\r\n    });\r\n  }\r\n\r\n  onChangeFirstName(e) {\r\n    this.setState({\r\n      firstName: e.target.value,\r\n      openSuccess: false,\r\n      openErr: false\r\n    });\r\n  }\r\n\r\n  onChangeLastName(e) {\r\n    this.setState({\r\n      lastName: e.target.value,\r\n      openSuccess: false,\r\n      openErr: false\r\n    });\r\n  }\r\n\r\n  onChangeGrade(e, v) {\r\n    this.setState({\r\n      grade: v.i,\r\n      openSuccess: false,\r\n      openErr: false\r\n    });\r\n  }\r\n\r\n  onChangeBio(e) {\r\n    this.setState({\r\n      bio: e.target.value,\r\n      openSuccess: false,\r\n      openErr: false\r\n    });\r\n  }\r\n\r\n  onChangeSubject(e) {\r\n    this.setState({\r\n      subjects: this.state.subjects.filter((subject) => {\r\n        return e.target.toString().replace(/%20/g, ' ').indexOf(subject) < 0;\r\n      })\r\n    });\r\n  }\r\n\r\n  onChangeTutorAvailability(e) {\r\n    this.setState({\r\n      tutorAvailability: this.state.tutorAvailability.filter((t) => {\r\n        return e.target.toString().indexOf(t.toString()) < 0;\r\n      })\r\n    });\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const updatedUser = {\r\n      displayName: this.state.displayName,\r\n      grade: this.state.grade,\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      bio: this.state.bio,\r\n      subjects: this.state.subjects,\r\n      tutorAvailability: this.state.tutorAvailability\r\n    };\r\n\r\n    if (this.state.grade === 0 && this.props.user_data.grade === 0) {\r\n      this.setState({\r\n        openErr: true\r\n      });\r\n    } else if (this.props.user_data.grade === 0) {\r\n      await api.postUserUpdate(updatedUser);\r\n      this.setState({\r\n        openSuccess: true\r\n      });\r\n      window.location.href = '/';\r\n    } else {\r\n      api.postUserUpdate(updatedUser);\r\n      this.setState({\r\n        openSuccess: true\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClose(event, reason) {\r\n    if (reason === 'clickaway') return;\r\n    this.setState({\r\n      openSuccess: false,\r\n      openErr: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <ChangePFP\r\n          user_data={this.props.user_data}\r\n          updateState={this.props.updateState}\r\n        />\r\n        <div className='row'>\r\n          <div className='col s12 xl6 offset-xl3'>\r\n            <div className='card-panel grey lighten-5'>\r\n              <div className='row'>\r\n                <div className='col s3 xl1'>\r\n                  <a className='modal-trigger' href='#changePFPModal'>\r\n                    <img\r\n                      className='circle responsive-img'\r\n                      alt={this.state.displayName + \"'s pfp\"}\r\n                      src={this.props.user_data.image}\r\n                    />\r\n                  </a>\r\n                </div>\r\n                <div className='col s11'>\r\n                  <h6 className='primary-color'>{this.state.displayName}</h6>\r\n                  {this.state.grade > 0 ? (\r\n                    <div className='primary-color'>\r\n                      <span className='black-text'>Grade: </span>\r\n                      {\r\n                        GradeList[\r\n                          GradeList.findIndex((item) => {\r\n                            return item.i === this.state.grade;\r\n                          })\r\n                        ].grade\r\n                      }\r\n                    </div>\r\n                  ) : null}\r\n                  <div className='primary-color'>\r\n                    <span className='black-text'>Hours Volunteered: </span>\r\n                    {this.props.user_data.hours}\r\n                  </div>\r\n                  {this.state.subjects.map((v, i, ar) => {\r\n                    if (ar.length === 0) return null;\r\n                    else if (i === 0)\r\n                      return (\r\n                        <span key={i}>\r\n                          Subjects {this.state.firstName} can tutor:{' '}\r\n                          <a\r\n                            className='waves-effect waves-light'\r\n                            href={'#' + v}\r\n                            onClick={this.onChangeSubject}>\r\n                            {v + ' ×'}\r\n                          </a>\r\n                        </span>\r\n                      );\r\n                    else\r\n                      return (\r\n                        <span className='secondary-color' key={i}>\r\n                          ,{' '}\r\n                          <a\r\n                            className='waves-effect waves-light'\r\n                            href={'#' + v}\r\n                            onClick={this.onChangeSubject}>\r\n                            {v + ' ×'}\r\n                          </a>\r\n                        </span>\r\n                      );\r\n                  })}\r\n                  <div>\r\n                    {this.state.bio\r\n                      ? 'About ' + this.state.firstName + ':'\r\n                      : null}\r\n                    <div className='secondary-color'>{this.state.bio}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n                {this.state.tutorAvailability.map((v, i, ar) => {\r\n                  if (ar.length === 0) return null;\r\n                  var t = moment(v).local();\r\n                  if (i === 0) {\r\n                    return (\r\n                      <span key={i}>\r\n                        <div className='divider'></div>\r\n                        <h6>Tutor Availability:</h6>\r\n                        <h6 className='primary-color'>\r\n                          {t.format('dddd MMMM Do, YYYY')}\r\n                        </h6>\r\n                        <span>\r\n                          <a\r\n                            className='waves-effect waves-cyan btn-flat btn-small'\r\n                            href={'#' + v}\r\n                            onClick={this.onChangeTutorAvailability}>\r\n                            {t.format('h:mm A ') + '×'}\r\n                          </a>\r\n                        </span>\r\n                      </span>\r\n                    );\r\n                  } else {\r\n                    var t0 = moment(ar[i - 1]).local();\r\n                    if (t.format('d') !== t0.format('d')) {\r\n                      return (\r\n                        <span key={i}>\r\n                          <div className='divider'></div>\r\n                          <h6 className='primary-color'>\r\n                            {t.format('dddd MMMM Do, YYYY')}\r\n                          </h6>\r\n                          <span>\r\n                            <a\r\n                              className='waves-effect waves-cyan btn-flat btn-small'\r\n                              href={'#' + v}\r\n                              onClick={this.onChangeTutorAvailability}>\r\n                              {t.format('h:mm A ') + '×'}\r\n                            </a>\r\n                          </span>\r\n                        </span>\r\n                      );\r\n                    } else\r\n                      return (\r\n                        <span key={i}>\r\n                          <a\r\n                            className='waves-effect waves-cyan btn-flat btn-small'\r\n                            href={'#' + v}\r\n                            onClick={this.onChangeTutorAvailability}>\r\n                            {t.format('h:mm A ') + '×'}\r\n                          </a>\r\n                        </span>\r\n                      );\r\n                  }\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col s12 xl6 offset-xl3'>\r\n            <div className='row'>\r\n              <form\r\n                className='col s12'\r\n                onSubmit={this.onSubmit}\r\n                id='User_Update_Form'>\r\n                <div className='row'>\r\n                  <div className='input-field col s12'>\r\n                    <TextField\r\n                      id='name'\r\n                      fullWidth\r\n                      onChange={this.onChangeDisplayName}\r\n                      label='Display Name'\r\n                      defaultValue={this.state.displayName}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className='row'>\r\n                  <div className='input-field col s6'>\r\n                    <TextField\r\n                      id='first_name'\r\n                      fullWidth\r\n                      onChange={this.onChangeFirstName}\r\n                      label='First name'\r\n                      defaultValue={this.state.firstName}\r\n                    />\r\n                  </div>\r\n                  <div className='input-field col s6'>\r\n                    <TextField\r\n                      id='last_name'\r\n                      fullWidth\r\n                      onChange={this.onChangeLastName}\r\n                      label='Last name'\r\n                      defaultValue={this.state.lastName}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className='row'>\r\n                  <div className='input-field col s12'>\r\n                    <TextField\r\n                      disabled\r\n                      id='email'\r\n                      fullWidth\r\n                      type='email'\r\n                      defaultValue={this.state.email}\r\n                      label='Email'\r\n                      className='validate'\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className='row'>\r\n                  <div className='input-field col s12'>\r\n                    <Autocomplete\r\n                      id='grade-level'\r\n                      options={GradeList}\r\n                      getOptionLabel={(option) => option.grade}\r\n                      defaultValue={\r\n                        this.state.grade > 0\r\n                          ? GradeList[\r\n                              GradeList.findIndex((item) => {\r\n                                return item.i === this.state.grade;\r\n                              })\r\n                            ]\r\n                          : null\r\n                      }\r\n                      onChange={this.onChangeGrade}\r\n                      renderInput={(params) => (\r\n                        <TextField {...params} label='Grade' />\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className='row'>\r\n                  <div className='input-field col s12'>\r\n                    <TextField\r\n                      margin='normal'\r\n                      id='standard-multiline-static'\r\n                      multiline\r\n                      fullWidth\r\n                      placeholder=\"Your Bio: (ex: I'm a junior in University High School.)\"\r\n                      label='Bio:'\r\n                      defaultValue={this.state.bio}\r\n                      helperText='Provide information about you for your peers'\r\n                      onChange={this.onChangeBio}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <input\r\n                  type='submit'\r\n                  value='Update'\r\n                  className='waves-effect waves-light btn tertiary-color-background'\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <Snackbar\r\n            open={this.state.openErr}\r\n            autoHideDuration={6000}\r\n            onClose={this.handleClose}\r\n            onClick={() => {\r\n              this.setState({\r\n                openErr: false\r\n              });\r\n            }}>\r\n            <MuiAlert\r\n              elevation={6}\r\n              variant='filled'\r\n              onClose={this.handleClose}\r\n              severity='error'>\r\n              Please input your grade\r\n            </MuiAlert>\r\n          </Snackbar>\r\n          <Snackbar\r\n            open={this.state.openSuccess}\r\n            autoHideDuration={6000}\r\n            onClose={this.handleClose}\r\n            onClick={() => {\r\n              this.setState({\r\n                openSuccess: false\r\n              });\r\n            }}>\r\n            <MuiAlert\r\n              elevation={6}\r\n              variant='filled'\r\n              onClose={this.handleClose}\r\n              severity='success'>\r\n              Your user info has been successfully changed\r\n            </MuiAlert>\r\n          </Snackbar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst GradeList = [\r\n  { grade: '7', i: 7 },\r\n  { grade: '8', i: 8 },\r\n  { grade: '9', i: 9 },\r\n  { grade: '10', i: 10 },\r\n  { grade: '11', i: 11 },\r\n  { grade: '12', i: 12 },\r\n  { grade: 'College and above', i: 13 }\r\n];\r\n\r\nexport default UpdateUser;\r\n","import React, { Component } from 'react';\r\nimport M from 'materialize-css';\r\nimport moment from 'moment';\r\nimport api from '../../api';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nclass MakeAppointment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      openSuccess: false,\r\n      openErr: false,\r\n      openErrWait: false,\r\n      waiting: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    M.AutoInit();\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.state.waiting) return this.setState({ openErrWait: true });\r\n\r\n    // appointment array in order: [time, student id, tutor id, calendar event id, google meet id, jamboard id, attended boolean]\r\n    const newAppointment = {\r\n      appointment: [\r\n        this.props.appointment_time,\r\n        this.props.user_data._id,\r\n        this.props.tutor_data._id,\r\n        null,\r\n        null,\r\n        null,\r\n        false\r\n      ]\r\n    };\r\n\r\n    this.setState({ waiting: true });\r\n    await api.makeAppointment(newAppointment).then((json) => {\r\n      if (json.success)\r\n        this.setState({\r\n          openSuccess: true,\r\n          openErrWait: false,\r\n          waiting: false\r\n        });\r\n      else this.setState({ openErr: true, openErrWait: false, waiting: false });\r\n    });\r\n    this.props.updateState();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.appointment_time) {\r\n      return (\r\n        <span\r\n          onClick={(e) =>\r\n            this.setState({ openErr: false, openSuccess: false })\r\n          }>\r\n          <div id={'makeAppointmentModal'} className='modal'>\r\n            <div className='modal-content'>\r\n              <h3 className='primary-color'>\r\n                Make Appointment with {this.props.tutor_data.firstName}\r\n              </h3>\r\n              <h4>No time slot selected</h4>\r\n            </div>\r\n            <div className='modal-footer'>\r\n              <a href='#!' className='waves-effect waves-light btn modal-close'>\r\n                Take me back\r\n                <i className='material-icons right'>arrow_back</i>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <Snackbar\r\n            open={this.state.openErr}\r\n            autoHideDuration={6000}\r\n            onClose={this.handleClose}\r\n            onClick={() => {\r\n              this.setState({\r\n                openErr: false\r\n              });\r\n            }}>\r\n            <MuiAlert\r\n              elevation={6}\r\n              variant='filled'\r\n              onClose={this.handleClose}\r\n              severity='error'>\r\n              Appointment could not be made\r\n            </MuiAlert>\r\n          </Snackbar>\r\n          <Snackbar\r\n            open={this.state.openSuccess}\r\n            autoHideDuration={6000}\r\n            onClose={this.handleClose}\r\n            onClick={() => {\r\n              this.setState({\r\n                openSuccess: false\r\n              });\r\n            }}>\r\n            <MuiAlert\r\n              elevation={6}\r\n              variant='filled'\r\n              onClose={this.handleClose}\r\n              severity='success'>\r\n              Appointment with {this.props.tutor_data.firstName} made!\r\n            </MuiAlert>\r\n          </Snackbar>\r\n        </span>\r\n      );\r\n    }\r\n    return (\r\n      <span\r\n        onClick={(e) => this.setState({ openErr: false, openSuccess: false })}>\r\n        <div id={'makeAppointmentModal'} className='modal'>\r\n          <div className='modal-content'>\r\n            <h3 className='primary-color'>\r\n              Make Appointment with {this.props.tutor_data.firstName}\r\n            </h3>\r\n            <h4>\r\n              {moment(this.props.appointment_time)\r\n                .local()\r\n                .format('h:mm A, dddd MMMM Do, YYYY')}\r\n            </h4>\r\n          </div>\r\n          <div className='modal-footer'>\r\n            <a\r\n              href='#!'\r\n              className='waves-effect waves-light btn modal-close'\r\n              onClick={this.onSubmit}>\r\n              Make Appointment!\r\n              <i className='material-icons right'>send</i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <Snackbar\r\n          open={this.state.openErr}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErr: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Appointment could not be made\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrWait}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrWait: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Please wait before requesting another appointment\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openSuccess}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openSuccess: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='success'>\r\n            Appointment with {this.props.tutor_data.firstName} made!\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MakeAppointment;\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport { withRouter } from 'react-router-dom';\r\nimport api from '../../api';\r\nimport UpdateUser from './UpdateUser';\r\nimport MakeAppointment from '../appointments/MakeAppointment';\r\n\r\nclass UserInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userId: null,\r\n      subjects: [],\r\n      tutorAvailability: [],\r\n      chosenDate: null,\r\n      user_data: {}\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const userId = this.props.match.params.userId;\r\n    api.getUserWithId(userId).then((json) => {\r\n      this.setState({\r\n        userId: userId,\r\n        user_data: json,\r\n        subjects: json.subjects,\r\n        tutorAvailability: json.tutorAvailability\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.userId === 'update')\r\n      return (\r\n        <UpdateUser\r\n          user_data={this.props.user_data}\r\n          updateState={this.props.updateState}\r\n        />\r\n      );\r\n    if (this.state.user_data.user_dne) window.location.href = '/user/update';\r\n    if (!this.state.user_data._id || !this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.state.userId === this.props.user_data._id)\r\n      return (\r\n        <UpdateUser\r\n          user_data={this.props.user_data}\r\n          updateState={this.props.updateState}\r\n        />\r\n      );\r\n    return (\r\n      <div>\r\n        <div className='row'>\r\n          <div className='col s12 xl6 offset-xl3'>\r\n            <div className='card-panel grey lighten-5'>\r\n              <div className='row'>\r\n                <div className='col s3 xl1'>\r\n                  <a href={'/user/' + this.state.user_data._id}>\r\n                    <img\r\n                      className='circle responsive-img'\r\n                      alt={this.state.user_data.displayName + \"'s pfp\"}\r\n                      src={this.state.user_data.image}\r\n                    />\r\n                  </a>\r\n                </div>\r\n                <div className='col s11'>\r\n                  <h6 className='primary-color'>\r\n                    {this.state.user_data.displayName}\r\n                  </h6>\r\n                  {this.state.user_data.grade > 0 ? (\r\n                    <div className='primary-color'>\r\n                      <span className='black-text'>Grade: </span>\r\n                      {\r\n                        GradeList[\r\n                          GradeList.findIndex((item) => {\r\n                            return item.i === this.state.user_data.grade;\r\n                          })\r\n                        ].grade\r\n                      }\r\n                    </div>\r\n                  ) : null}\r\n                  <div className='primary-color'>\r\n                    <span className='black-text'>Hours Volunteered: </span>\r\n                    {this.state.user_data.hours}\r\n                  </div>\r\n                  {this.state.subjects.map((v, i, ar) => {\r\n                    if (ar.length === 0) return null;\r\n                    else if (i === 0)\r\n                      return (\r\n                        <span key={i}>\r\n                          Subjects {this.state.user_data.firstName} can tutor:{' '}\r\n                          <a\r\n                            className='waves-effect waves-light'\r\n                            href={'#' + v}>\r\n                            {v}\r\n                          </a>\r\n                        </span>\r\n                      );\r\n                    else\r\n                      return (\r\n                        <span className='secondary-color' key={i}>\r\n                          ,{' '}\r\n                          <a\r\n                            className='waves-effect waves-light'\r\n                            href={'#' + v}>\r\n                            {v}\r\n                          </a>\r\n                        </span>\r\n                      );\r\n                  })}\r\n                  <div>\r\n                    {this.state.user_data.bio\r\n                      ? 'About ' + this.state.user_data.firstName + ':'\r\n                      : null}\r\n                    <div className='secondary-color'>\r\n                      {this.state.user_data.bio}\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    {this.props.user_data.contacts_data[this.state.userId] ? (\r\n                      <a\r\n                        className={'waves-effect btn white blue-text'}\r\n                        style={{ margin: '0.5em' }}\r\n                        href={\r\n                          '/chat/' +\r\n                          this.props.user_data.contacts_data[this.state.userId]\r\n                            .chatRoom\r\n                        }>\r\n                        Chat<i className='material-icons right'>chat</i>\r\n                      </a>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n                {this.state.tutorAvailability\r\n                  .filter((v) => {\r\n                    return !(\r\n                      this.props.user_data.appointments.flat().indexOf(v) >=\r\n                        0 ||\r\n                      this.props.user_data.appointments\r\n                        .flat()\r\n                        .indexOf(v - 1800000) >= 0 ||\r\n                      this.props.user_data.appointments\r\n                        .flat()\r\n                        .indexOf(v + 1800000) >= 0\r\n                    );\r\n                  })\r\n                  .map((v, i, ar) => {\r\n                    if (ar.length === 0 || this.state.subjects.length === 0)\r\n                      return null;\r\n                    var t = moment(v).local();\r\n                    if (i === 0) {\r\n                      return (\r\n                        <span key={i}>\r\n                          <div className='divider'></div>\r\n                          <h6>Tutor Availability:</h6>\r\n                          <h6 className='primary-color'>\r\n                            {t.format('dddd MMMM Do, YYYY')}\r\n                          </h6>\r\n                          <span>\r\n                            <a\r\n                              className='waves-effect waves-cyan btn-flat btn-small modal-trigger'\r\n                              href='#makeAppointmentModal'\r\n                              onClick={() => this.setState({ chosenDate: v })}>\r\n                              {t.format('h:mm A')}\r\n                            </a>\r\n                          </span>\r\n                        </span>\r\n                      );\r\n                    } else {\r\n                      var t0 = moment(ar[i - 1]).local();\r\n                      if (t.format('d') !== t0.format('d')) {\r\n                        return (\r\n                          <span key={i}>\r\n                            <div className='divider'></div>\r\n                            <h6 className='primary-color'>\r\n                              {t.format('dddd MMMM Do, YYYY')}\r\n                            </h6>\r\n                            <span>\r\n                              <a\r\n                                className='waves-effect waves-cyan btn-flat btn-small modal-trigger'\r\n                                href='#makeAppointmentModal'\r\n                                onClick={() =>\r\n                                  this.setState({ chosenDate: v })\r\n                                }>\r\n                                {t.format('h:mm A')}\r\n                              </a>\r\n                            </span>\r\n                          </span>\r\n                        );\r\n                      } else\r\n                        return (\r\n                          <span key={i}>\r\n                            <a\r\n                              className='waves-effect waves-cyan btn-flat btn-small modal-trigger'\r\n                              href='#makeAppointmentModal'\r\n                              onClick={() => this.setState({ chosenDate: v })}>\r\n                              {t.format('h:mm A')}\r\n                            </a>\r\n                          </span>\r\n                        );\r\n                    }\r\n                  })}\r\n                <MakeAppointment\r\n                  tutor_data={this.state.user_data}\r\n                  user_data={this.props.user_data}\r\n                  appointment_time={this.state.chosenDate}\r\n                  updateState={this.props.updateState}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst GradeList = [\r\n  { grade: '7', i: 7 },\r\n  { grade: '8', i: 8 },\r\n  { grade: '9', i: 9 },\r\n  { grade: '10', i: 10 },\r\n  { grade: '11', i: 11 },\r\n  { grade: '12', i: 12 },\r\n  { grade: 'College and above', i: 13 }\r\n];\r\n\r\nconst UserInfoWithRouter = withRouter(UserInfo);\r\nexport default UserInfoWithRouter;\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport api from '../../api';\r\nimport MakeAppointment from '../appointments/MakeAppointment';\r\n\r\nclass TutorResult extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userId: null,\r\n      subjects: [],\r\n      tutorAvailability: [],\r\n      chosenDate: null,\r\n      user_data: {}\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    api.getUserWithId(this.props.tutor).then((json) => {\r\n      this.setState({\r\n        userId: this.props.tutor,\r\n        user_data: json,\r\n        subjects: json.subjects,\r\n        tutorAvailability: json.tutorAvailability\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.user_data._id || !this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.state.user_data.user_dne) window.location.href = '/user';\r\n    return (\r\n      <div>\r\n        <div className='card-panel grey lighten-5'>\r\n          <div className='row'>\r\n            <div className='col s3 xl1'>\r\n              <a href={'/user/' + this.state.user_data._id}>\r\n                <img\r\n                  className='circle responsive-img'\r\n                  alt={this.state.user_data.displayName + \"'s pfp\"}\r\n                  src={this.state.user_data.image}\r\n                />\r\n              </a>\r\n            </div>\r\n            <div className='col s11'>\r\n              <h6 className='primary-color'>\r\n                {this.state.user_data.displayName}\r\n              </h6>\r\n              {this.state.user_data.grade > 0 ? (\r\n                <div className='primary-color'>\r\n                  <span className='black-text'>Grade: </span>\r\n                  {\r\n                    GradeList[\r\n                      GradeList.findIndex((item) => {\r\n                        return item.i === this.state.user_data.grade;\r\n                      })\r\n                    ].grade\r\n                  }\r\n                </div>\r\n              ) : null}\r\n              <div className='primary-color'>\r\n                <span className='black-text'>Hours Volunteered: </span>\r\n                {this.state.user_data.hours}\r\n              </div>\r\n              {this.state.subjects.map((v, i, ar) => {\r\n                if (ar.length === 0) return null;\r\n                else if (i === 0)\r\n                  return (\r\n                    <span>\r\n                      Subjects {this.state.user_data.firstName} can tutor:{' '}\r\n                      <a className='waves-effect waves-light' href={'#' + v}>\r\n                        {v}\r\n                      </a>\r\n                    </span>\r\n                  );\r\n                else\r\n                  return (\r\n                    <span className='secondary-color'>\r\n                      ,{' '}\r\n                      <a className='waves-effect waves-light' href={'#' + v}>\r\n                        {v}\r\n                      </a>\r\n                    </span>\r\n                  );\r\n              })}\r\n              <div>\r\n                {this.state.user_data.bio\r\n                  ? 'About ' + this.state.user_data.firstName + ':'\r\n                  : null}\r\n                <div className='secondary-color'>\r\n                  {this.state.user_data.bio}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='row'>\r\n            {this.state.tutorAvailability\r\n              .filter((v) => {\r\n                return (\r\n                  !(\r\n                    v < this.props.time[0] ||\r\n                    v > this.props.time[this.props.time.length - 1]\r\n                  ) &&\r\n                  !(\r\n                    this.props.user_data.appointments.flat().indexOf(v) >= 0 ||\r\n                    this.props.user_data.appointments\r\n                      .flat()\r\n                      .indexOf(v - 1800000) >= 0 ||\r\n                    this.props.user_data.appointments\r\n                      .flat()\r\n                      .indexOf(v + 1800000) >= 0\r\n                  )\r\n                );\r\n              })\r\n              .map((v, i, ar) => {\r\n                if (ar.length === 0 || this.state.subjects.length === 0)\r\n                  return null;\r\n                var t = moment(v).local();\r\n                if (i === 0) {\r\n                  return (\r\n                    <span>\r\n                      <div className='divider'></div>\r\n                      <h6>Tutor Availability:</h6>\r\n                      <h6 className='primary-color'>\r\n                        {t.format('dddd MMMM Do, YYYY')}\r\n                      </h6>\r\n                      <span>\r\n                        <a\r\n                          className='waves-effect waves-cyan btn-flat btn-small modal-trigger'\r\n                          href='#makeAppointmentModal'\r\n                          onClick={() =>\r\n                            this.props.setState({\r\n                              tutor_data: this.state.user_data,\r\n                              chosenDate: v\r\n                            })\r\n                          }>\r\n                          {t.format('h:mm A')}\r\n                        </a>\r\n                      </span>\r\n                    </span>\r\n                  );\r\n                } else {\r\n                  var t0 = moment(ar[i - 1]).local();\r\n                  if (t.format('d') !== t0.format('d')) {\r\n                    return (\r\n                      <span>\r\n                        <div className='divider'></div>\r\n                        <h6 className='primary-color'>\r\n                          {t.format('dddd MMMM Do, YYYY')}\r\n                        </h6>\r\n                        <span>\r\n                          <a\r\n                            className='waves-effect waves-cyan btn-flat btn-small modal-trigger'\r\n                            href='#makeAppointmentModal'\r\n                            onClick={() =>\r\n                              this.props.setState({\r\n                                tutor_data: this.state.user_data,\r\n                                chosenDate: v\r\n                              })\r\n                            }>\r\n                            {t.format('h:mm A')}\r\n                          </a>\r\n                        </span>\r\n                      </span>\r\n                    );\r\n                  } else\r\n                    return (\r\n                      <span>\r\n                        <a\r\n                          className='waves-effect waves-cyan btn-flat btn-small modal-trigger'\r\n                          href='#makeAppointmentModal'\r\n                          onClick={() =>\r\n                            this.props.setState({\r\n                              tutor_data: this.state.user_data,\r\n                              chosenDate: v\r\n                            })\r\n                          }>\r\n                          {t.format('h:mm A')}\r\n                        </a>\r\n                      </span>\r\n                    );\r\n                }\r\n              })}\r\n            <MakeAppointment\r\n              tutor_data={this.props.tutor_data}\r\n              user_data={this.props.user_data}\r\n              appointment_time={this.props.chosenDate}\r\n              updateState={this.props.updateState}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst GradeList = [\r\n  { grade: '7', i: 7 },\r\n  { grade: '8', i: 8 },\r\n  { grade: '9', i: 9 },\r\n  { grade: '10', i: 10 },\r\n  { grade: '11', i: 11 },\r\n  { grade: '12', i: 12 },\r\n  { grade: 'College and above', i: 13 }\r\n];\r\n\r\nexport default TutorResult;\r\n","import React, { useState, useRef, useCallback } from 'react';\r\nimport GetTutorResults from './GetTutorResults';\r\nimport TutorResult from './TutorResult';\r\n\r\nexport default function TutorSearchHelper(props) {\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n\r\n  const { tutors, hasMore, loading } = GetTutorResults(props.query, pageNumber);\r\n\r\n  const observer = useRef();\r\n  const lastTutorElementRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [loading, hasMore]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {tutors\r\n        .filter((v) => v !== props.user_data._id)\r\n        .map((tutor, index) => {\r\n          if (tutors.length === index + 1) {\r\n            return (\r\n              <div ref={lastTutorElementRef}>\r\n                <TutorResult\r\n                  tutor={tutor}\r\n                  time={props.query.time}\r\n                  user_data={props.user_data}\r\n                  updateState={props.updateState}\r\n                  tutor_data={props.tutor_data}\r\n                  chosenDate={props.chosenDate}\r\n                  setState={props.setState}\r\n                />\r\n              </div>\r\n            );\r\n          } else {\r\n            return (\r\n              <TutorResult\r\n                key={tutor}\r\n                tutor={tutor}\r\n                time={props.query.time}\r\n                user_data={props.user_data}\r\n                updateState={props.updateState}\r\n                tutor_data={props.tutor_data}\r\n                chosenDate={props.chosenDate}\r\n                setState={props.setState}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n      <div>\r\n        {loading ? (\r\n          <div className='center'>\r\n            <div className='preloader-wrapper big active'>\r\n              <div className='spinner-layer spinner-blue-only'>\r\n                <div className='circle-clipper left'>\r\n                  <div className='circle'></div>\r\n                </div>\r\n                <div className='gap-patch'>\r\n                  <div className='circle'></div>\r\n                </div>\r\n                <div className='circle-clipper right'>\r\n                  <div className='circle'></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport api from '../../api';\r\n\r\nexport default function GetTutorResults(query, pageNumber) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [tutors, setTutors] = useState([]);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTutors([]);\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(false);\r\n    api.getTutorResults({ q: query, page: pageNumber }).then((json) => {\r\n      setTutors((prevTutors) => {\r\n        return [...new Set([...prevTutors, ...json.tutorIDs])];\r\n      });\r\n      setHasMore(json.hasMore);\r\n      setLoading(false);\r\n    });\r\n  }, [query, pageNumber]);\r\n\r\n  return { loading, error, tutors, hasMore };\r\n}\r\n","import React, { Component } from 'react';\r\nimport MomentUtils from '@date-io/moment';\r\nimport moment from 'moment';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker\r\n} from '@material-ui/pickers';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport TutorSearchHelper from './TutorSearchHelper';\r\n\r\nclass TutorSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n\r\n    this.onChangeAvailableStart = this.onChangeAvailableStart.bind(this);\r\n    this.onChangeAvailableEnd = this.onChangeAvailableEnd.bind(this);\r\n    this.onChangeSubjects = this.onChangeSubjects.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      availableStart: moment().startOf('hour').add(48, 'h'),\r\n      availableEnd: moment().startOf('hour').add(49, 'h'),\r\n      subjects: [],\r\n      query: {\r\n        time: [null],\r\n        subjects: [null]\r\n      },\r\n      openErrTime: false,\r\n      openErrTime1: false,\r\n      openErrTime2: false,\r\n      openErrSubjects: false,\r\n      tutors: [],\r\n      tutor_data: {},\r\n      chosenDate: null\r\n    };\r\n  }\r\n\r\n  handleSelect(obj) {\r\n    this.setState({ tutor_data: obj.tutor_data, chosenDate: obj.chosenDate });\r\n  }\r\n\r\n  onChangeAvailableStart(e) {\r\n    this.setState({\r\n      availableStart: e,\r\n      openErrTime: false,\r\n      openErrTime1: false,\r\n      openErrTime2: false,\r\n      openErrSubjects: false\r\n    });\r\n  }\r\n\r\n  onChangeAvailableEnd(e) {\r\n    this.setState({\r\n      availableEnd: e,\r\n      openErrTime: false,\r\n      openErrTime1: false,\r\n      openErrTime2: false,\r\n      openErrSubjects: false\r\n    });\r\n  }\r\n\r\n  onChangeSubjects(e, v) {\r\n    if (v.length > 5)\r\n      this.setState({\r\n        subjects: v,\r\n        openErrTime: false,\r\n        openErrTime1: false,\r\n        openErrTime2: false,\r\n        openErrSubjects: true\r\n      });\r\n    else\r\n      this.setState({\r\n        subjects: v,\r\n        openErrTime: false,\r\n        openErrTime1: false,\r\n        openErrTime2: false,\r\n        openErrSubjects: false\r\n      });\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    var aStart = this.state.availableStart.clone();\r\n    var aEnd = this.state.availableEnd.clone();\r\n    aEnd = aStart\r\n      .clone()\r\n      .startOf('day')\r\n      .hour(aEnd.hour())\r\n      .minute(aEnd.minute())\r\n      .utc()\r\n      .valueOf();\r\n    aStart = aStart.utc().valueOf();\r\n\r\n    if (aEnd < aStart && aEnd - aStart <= 43200000) {\r\n      aEnd = aEnd + 86400000;\r\n    }\r\n\r\n    if (aStart + 1800000 > aEnd) {\r\n      this.setState({\r\n        openErrTime: true\r\n      });\r\n    } else if (aStart - 86400000 < new Date().valueOf()) {\r\n      this.setState({\r\n        openErrTime1: true\r\n      });\r\n    } else if (aEnd - aStart > 21600000) {\r\n      this.setState({\r\n        openErrTime2: true\r\n      });\r\n    } else if (this.state.subjects.length > 5) {\r\n      this.setState({\r\n        openErrSubjects: true\r\n      });\r\n    } else {\r\n      var time = [];\r\n      for (\r\n        var i = Math.ceil(aStart / 1800000);\r\n        i < Math.floor(aEnd / 1800000);\r\n        i++\r\n      ) {\r\n        time.push(i * 1800000);\r\n      }\r\n      this.setState({\r\n        tutors: [],\r\n        query: {\r\n          time: time,\r\n          subjects: this.state.subjects\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className='row'>\r\n        <div className='col s12 xl6 offset-xl3'>\r\n          <div className='row'>\r\n            <form\r\n              className='col s12'\r\n              onSubmit={this.onSubmit}\r\n              id='Find_Tutor_Form'>\r\n              <div className='row'>\r\n                <div className='input-field col s12'>\r\n                  <Grid container justify='space-between'>\r\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\r\n                      <KeyboardDatePicker\r\n                        variant='inline'\r\n                        margin='normal'\r\n                        id='search_date'\r\n                        label='Date'\r\n                        format='M/D/YYYY'\r\n                        value={this.state.availableStart}\r\n                        onChange={this.onChangeAvailableStart}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change date'\r\n                        }}\r\n                      />\r\n                      <KeyboardTimePicker\r\n                        variant='inline'\r\n                        margin='normal'\r\n                        id='time_start'\r\n                        label='Time range start'\r\n                        value={this.state.availableStart}\r\n                        onChange={this.onChangeAvailableStart}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change time'\r\n                        }}\r\n                      />\r\n                      <KeyboardTimePicker\r\n                        variant='inline'\r\n                        margin='normal'\r\n                        id='time_end'\r\n                        label='Time range end'\r\n                        value={this.state.availableEnd}\r\n                        onChange={this.onChangeAvailableEnd}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change time'\r\n                        }}\r\n                      />\r\n                    </MuiPickersUtilsProvider>\r\n                  </Grid>\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n                <div className='input-field col s12'>\r\n                  <Autocomplete\r\n                    multiple\r\n                    id='subjects'\r\n                    size='small'\r\n                    options={SubjectList.filter(\r\n                      (v) => this.props.user_data.subjects.indexOf(v) < 0\r\n                    )}\r\n                    getOptionLabel={(option) => option}\r\n                    filterSelectedOptions\r\n                    onChange={this.onChangeSubjects}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        label='Subjects'\r\n                        helperText='Filter tutors by subjects'\r\n                      />\r\n                    )}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <input\r\n                type='submit'\r\n                value='Find tutors'\r\n                className='waves-effect waves-light btn cyan'\r\n              />\r\n            </form>\r\n          </div>\r\n          <TutorSearchHelper\r\n            query={this.state.query}\r\n            user_data={this.props.user_data}\r\n            updateState={this.props.updateState}\r\n            tutor_data={this.state.tutor_data}\r\n            chosenDate={this.state.chosenDate}\r\n            setState={this.handleSelect}\r\n          />\r\n        </div>\r\n        <Snackbar\r\n          open={this.state.openErrTime}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrTime: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Your search time range must be atleast 30 minutes\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrTime1}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrTime1: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Your search time must be atleast 24 hours ahead\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrTime2}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrTime2: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Your search time range must less than 6 hours\r\n          </MuiAlert>\r\n        </Snackbar>\r\n        <Snackbar\r\n          open={this.state.openErrSubjects}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrSubjects: false\r\n            });\r\n          }}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Your subject filter must be no larger than 5 subjects\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SubjectList = [\r\n  'Math',\r\n  'Algebra',\r\n  'Algebra 2',\r\n  'Geometry',\r\n  'Precalculus',\r\n  'AP Statistics',\r\n  'Calculus',\r\n  'AP Calculus AB',\r\n  'AP Calculus BC',\r\n  'AP Economics Micro',\r\n  'AP Economics Macro',\r\n  'Biology',\r\n  'AP Biology',\r\n  'AP Enviromental Science',\r\n  'Chemistry',\r\n  'AP Chemistry',\r\n  'Physics',\r\n  'AP Physics 1',\r\n  'AP Physics 2',\r\n  'AP Physics C',\r\n  'English',\r\n  'AP English Lang',\r\n  'AP English Lit',\r\n  'AP Psychology',\r\n  'History',\r\n  'AP Human Geography',\r\n  'AP US History',\r\n  'AP European History',\r\n  'AP World History',\r\n  'Spanish',\r\n  'AP Spanish',\r\n  'Chinese',\r\n  'AP Chinese',\r\n  'French',\r\n  'AP French',\r\n  'AP Computer Science P',\r\n  'AP Computer Science A'\r\n];\r\n\r\nexport default TutorSearch;\r\n","import React, { Component } from 'react';\r\n\r\nclass Tutorial extends Component {\r\n  render() {\r\n    if (!this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <div className='row'>\r\n          <div className='col s12 xl6 offset-xl3'>\r\n            <div className='card-panel grey lighten-5'>\r\n              <div className='tutorial-container'>\r\n                <iframe\r\n                  className='tutorial-video'\r\n                  title='tutorial video'\r\n                  src='https://www.youtube.com/embed/0sXyGG8-W7A'\r\n                  frameborder='0'\r\n                  allow='autoplay; encrypted-media'\r\n                  allowfullscreen='allowfullscreen'\r\n                  mozallowfullscreen='mozallowfullscreen'\r\n                  msallowfullscreen='msallowfullscreen'\r\n                  oallowfullscreen='oallowfullscreen'\r\n                  webkitallowfullscreen='webkitallowfullscreen'></iframe>\r\n              </div>\r\n              <div className='row'>\r\n                <div className='right'>\r\n                  <a\r\n                    href='/user/update'\r\n                    className='waves-effect waves-light btn'\r\n                    style={{ margin: '0.7em' }}>\r\n                    Continue\r\n                    <i className='material-icons right'>arrow_forward</i>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tutorial;\r\n","import React from 'react';\r\n\r\nfunction MessageContent(props) {\r\n  if (props.type === 'Text') {\r\n    return <span>{props.message}</span>;\r\n  } else if (props.type === 'File') {\r\n    if (\r\n      props.message\r\n        .substring(props.message.length - 5, props.message.length)\r\n        .toLowerCase() === '.jpeg' ||\r\n      props.message\r\n        .substring(props.message.length - 4, props.message.length)\r\n        .toLowerCase() === '.jpg' ||\r\n      props.message\r\n        .substring(props.message.length - 4, props.message.length)\r\n        .toLowerCase() === '.png' ||\r\n      props.message\r\n        .substring(props.message.length - 4, props.message.length)\r\n        .toLowerCase() === '.gif'\r\n    )\r\n      return <img src={props.message} alt={props.message} width={'200vw'} />;\r\n    else\r\n      return (\r\n        <a href={props.message} target='_blank' rel='noopener noreferrer'>\r\n          {props.message.substring(75, props.message.length)}\r\n        </a>\r\n      );\r\n  }\r\n}\r\n\r\nexport default MessageContent;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport MessageContent from './MessageContent';\r\n\r\nfunction Message(props) {\r\n  if (props.senderIsMe) {\r\n    return (\r\n      <div className='row'>\r\n        <div className='col s12 xl6 offset-xl6'>\r\n          <div className='card-panel right'>\r\n            <img\r\n              className='circle right'\r\n              src={props.image}\r\n              alt={props.firstName + \"'s pfp\"}\r\n              style={{ height: '2em' }}\r\n            />\r\n            <span className='right' style={{ margin: '0.5em' }}>\r\n              <MessageContent type={props.type} message={props.message} />\r\n            </span>\r\n          </div>\r\n          <span className='right' style={{ margin: '0.5em' }}>\r\n            {moment(props.time).local().format('MMM Do h:mm A')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className='row'>\r\n        <div className='col s12 xl6'>\r\n          <div className='card-panel left'>\r\n            <img\r\n              className='circle left'\r\n              src={props.image}\r\n              alt={props.firstName + \"'s pfp\"}\r\n              style={{ height: '2em' }}\r\n            />\r\n            <span className='left' style={{ margin: '0.5em' }}>\r\n              <MessageContent type={props.type} message={props.message} />\r\n            </span>\r\n          </div>\r\n          <span className='left' style={{ margin: '0.5em' }}>\r\n            {moment(props.time).local().format('MMM Do h:mm A')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Message;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport io from 'socket.io-client';\r\nimport Dropzone from 'react-dropzone';\r\nimport moment from 'moment';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Message from './Message';\r\n\r\nimport api from '../../api';\r\n\r\nconst imageMaxSize = 10000000; // bytes\r\n\r\nclass Chat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleWrite = this.handleWrite.bind(this);\r\n    this.submitChatMessage = this.submitChatMessage.bind(this);\r\n\r\n    this.handleOnDrop = this.handleOnDrop.bind(this);\r\n\r\n    this.state = {\r\n      roomId: null,\r\n      chatMessage: '',\r\n      messages: [],\r\n      waiting: false,\r\n      openErrFile: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ roomId: await this.props.match.params.roomId });\r\n    api.getMessages(await this.props.match.params.roomId).then(async (json) => {\r\n      this.setState({\r\n        messages: [...json, ...this.state.messages].sort(\r\n          (a, b) =>\r\n            moment(a.createdAt).valueOf() - moment(b.createdAt).valueOf()\r\n        )\r\n      });\r\n\r\n      setTimeout(() => {\r\n        if (this.messagesEnd) {\r\n          this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (\r\n      !this.props.user_data.chat_passwords &&\r\n      nextProps.user_data.chat_passwords\r\n    ) {\r\n      let server = '/';\r\n      this.socket = io(server);\r\n      this.socket.emit(\r\n        'connectToRoom',\r\n        nextProps.match.params.roomId,\r\n        nextProps.user_data.chat_passwords[nextProps.match.params.roomId]\r\n      );\r\n\r\n      this.socket.on('accessDenied', (messageFromServer) => {\r\n        window.location.href = '/';\r\n      });\r\n\r\n      this.socket.on('newMessage', (messageFromServer) => {\r\n        this.setState({\r\n          messages: [...this.state.messages, messageFromServer].sort(\r\n            (a, b) =>\r\n              moment(a.createdAt).valueOf() - moment(b.createdAt).valueOf()\r\n          )\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate() {\r\n    if (this.messagesEnd) {\r\n      this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }\r\n\r\n  handleWrite(e) {\r\n    this.setState({\r\n      chatMessage: e.target.value\r\n    });\r\n  }\r\n\r\n  submitChatMessage(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.state.chatMessage !== '') {\r\n      const newMessage = {\r\n        chatRoom: this.state.roomId,\r\n        message: this.state.chatMessage,\r\n        sender: this.props.user_data._id,\r\n        type: 'Text',\r\n        createdAt: new Date().valueOf()\r\n      };\r\n\r\n      this.socket.emit('newMessageFromUser', newMessage);\r\n\r\n      this.setState({\r\n        chatMessage: '',\r\n        messages: [...this.state.messages, newMessage].sort(\r\n          (a, b) => a.createdAt - b.createdAt\r\n        ),\r\n        openErrFile: false\r\n      });\r\n    }\r\n  }\r\n\r\n  handleOnDrop(files, rejectedFiles) {\r\n    if (rejectedFiles && rejectedFiles.length > 0) {\r\n      this.setState({ openErrFile: true });\r\n    }\r\n\r\n    if (files.length > 0) {\r\n      this.setState({ waiting: true });\r\n\r\n      let formData = new FormData();\r\n      formData.append('file', files[0]);\r\n\r\n      const config = {\r\n        header: { 'content-type': 'multipart/form-data' }\r\n      };\r\n\r\n      api.postNewFile(formData, config).then((json) => {\r\n        if (json.fileLink) {\r\n          const newMessage = {\r\n            chatRoom: this.state.roomId,\r\n            message: json.fileLink,\r\n            sender: this.props.user_data._id,\r\n            type: 'File',\r\n            createdAt: new Date().valueOf()\r\n          };\r\n\r\n          this.socket.emit('newMessageFromUser', newMessage);\r\n\r\n          this.setState({\r\n            chatMessage: '',\r\n            messages: [...this.state.messages, newMessage].sort(\r\n              (a, b) => a.createdAt - b.createdAt\r\n            ),\r\n            waiting: false,\r\n            openErrFile: false\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.user_data._id) {\r\n      return (\r\n        <div className='center'>\r\n          <div className='preloader-wrapper big active'>\r\n            <div className='spinner-layer spinner-blue-only'>\r\n              <div className='circle-clipper left'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='gap-patch'>\r\n                <div className='circle'></div>\r\n              </div>\r\n              <div className='circle-clipper right'>\r\n                <div className='circle'></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className='col s12 xl8 offset-xl2'>\r\n        <div className='row'>\r\n          <div className='col s12'>\r\n            <div className='card-panel chat-config' style={{ margin: '0.5em' }}>\r\n              {this.state.messages.map((v, i, ar) => {\r\n                if (i < ar.length - 1)\r\n                  return (\r\n                    <Message\r\n                      key={i}\r\n                      time={v.createdAt}\r\n                      senderIsMe={v.sender === this.props.user_data._id}\r\n                      type={v.type}\r\n                      message={v.message}\r\n                      image={\r\n                        v.sender === this.props.user_data._id\r\n                          ? this.props.user_data.image\r\n                          : this.props.user_data.contacts_data[v.sender].image\r\n                      }\r\n                      firstName={\r\n                        v.sender === this.props.user_data._id\r\n                          ? this.props.user_data.firstName\r\n                          : this.props.user_data.contacts_data[v.sender]\r\n                              .firstName\r\n                      }\r\n                    />\r\n                  );\r\n                else\r\n                  return (\r\n                    <div key={i}>\r\n                      <Message\r\n                        time={v.createdAt}\r\n                        senderIsMe={v.sender === this.props.user_data._id}\r\n                        type={v.type}\r\n                        message={v.message}\r\n                        image={\r\n                          v.sender === this.props.user_data._id\r\n                            ? this.props.user_data.image\r\n                            : this.props.user_data.contacts_data[v.sender].image\r\n                        }\r\n                        firstName={\r\n                          v.sender === this.props.user_data._id\r\n                            ? this.props.user_data.firstName\r\n                            : this.props.user_data.contacts_data[v.sender]\r\n                                .firstName\r\n                        }\r\n                      />\r\n                      <div\r\n                        ref={(el) => {\r\n                          this.messagesEnd = el;\r\n                        }}\r\n                        style={{ float: 'left', clear: 'both' }}\r\n                      />\r\n                    </div>\r\n                  );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.state.waiting ? (\r\n          <div className='center'>\r\n            <div className='preloader-wrapper big active'>\r\n              <div className='spinner-layer spinner-blue-only'>\r\n                <div className='circle-clipper left'>\r\n                  <div className='circle'></div>\r\n                </div>\r\n                <div className='gap-patch'>\r\n                  <div className='circle'></div>\r\n                </div>\r\n                <div className='circle-clipper right'>\r\n                  <div className='circle'></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <div className='row'>\r\n          <div className='col s12 xl11'>\r\n            <textarea\r\n              id='Message'\r\n              className='materialize-textarea'\r\n              value={this.state.chatMessage}\r\n              onChange={this.handleWrite}\r\n              style={{ margin: '0.5em' }}></textarea>\r\n          </div>\r\n          <div className='col s12 xl1'>\r\n            <a\r\n              href='#Send'\r\n              className='btn waves-effect waves-light blue'\r\n              onClick={this.submitChatMessage}\r\n              style={{ margin: '0.5em' }}>\r\n              <i className='material-icons'>send</i>\r\n            </a>\r\n            <Dropzone\r\n              onDrop={this.handleOnDrop}\r\n              multiple={false}\r\n              maxSize={imageMaxSize}>\r\n              {({ getRootProps, getInputProps }) => (\r\n                <span {...getRootProps()}>\r\n                  <input {...getInputProps()} />\r\n                  <button\r\n                    className='btn-floating btn waves-effect waves-light blue'\r\n                    style={{ margin: '0.5em' }}>\r\n                    <i className='material-icons'>attach_file</i>\r\n                  </button>\r\n                </span>\r\n              )}\r\n            </Dropzone>\r\n          </div>\r\n        </div>\r\n        <Snackbar\r\n          open={this.state.openErrFile}\r\n          onClick={() => {\r\n            this.setState({\r\n              openErrFile: false\r\n            });\r\n          }}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}>\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant='filled'\r\n            onClose={this.handleClose}\r\n            severity='error'>\r\n            Only files under 10 mb are accepted\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ChatWithRouter = withRouter(Chat);\r\nexport default ChatWithRouter;\r\n","import React, { Component } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nimport '../App.css';\n\nimport api from '../api';\n\nimport Navbar from './layout/Navbar';\nimport Dashboard from './user/Dashboard';\nimport PostTutor from './tutorPosts/PostTutor';\nimport UserInfoWithRouter from './user/UserInfo';\nimport ShowAppointments from './appointments/ShowAppointments';\nimport TutorSearch from './tutorPosts/TutorSearch';\nimport Tutorial from './user/Tutorial';\nimport ChatWithRouter from './chat/Chat';\n\nclass Home extends Component {\n  constructor() {\n    super();\n\n    this.updateState = this.updateState.bind(this);\n\n    this.state = {\n      logged_in: true,\n      user_data: {}\n    };\n  }\n\n  async componentDidMount() {\n    api\n      .getUser()\n      .then((json) =>\n        this.setState({ user_data: json, logged_in: json.logged_in })\n      );\n  }\n\n  updateState() {\n    api.getUser().then((json) => this.setState({ user_data: json }));\n  }\n\n  render() {\n    if (!this.state.logged_in) return <Redirect to={{ pathname: '/login' }} />;\n    if (this.state.user_data.grade === -1)\n      return <Redirect to={{ pathname: '/api/logout' }} />;\n    return (\n      <div>\n        <Navbar user_data={this.state.user_data} />\n        <Route\n          exact\n          path='/'\n          render={() => (\n            <Dashboard\n              user_data={this.state.user_data}\n              updateState={this.updateState}\n            />\n          )}\n        />\n        <Route\n          path='/tutorial'\n          render={() => <Tutorial user_data={this.state.user_data} />}\n        />\n        <Route\n          path='/user/:userId'\n          render={() => (\n            <UserInfoWithRouter\n              user_data={this.state.user_data}\n              updateState={this.updateState}\n            />\n          )}\n        />\n        <Route\n          path='/chat/:roomId'\n          render={() => (\n            <ChatWithRouter\n              user_data={this.state.user_data}\n              updateState={this.updateState}\n            />\n          )}\n        />\n        <Route\n          path='/learn'\n          render={() => (\n            <TutorSearch\n              user_data={this.state.user_data}\n              updateState={this.updateState}\n            />\n          )}\n        />\n        <Route\n          path='/volunteer'\n          render={() => <PostTutor user_data={this.state.user_data} />}\n        />\n        <Route\n          path='/appointments'\n          render={() => (\n            <div className='row'>\n              <div className='col s12 xl8 offset-xl2'>\n                <ShowAppointments\n                  user_data={this.state.user_data}\n                  updateState={this.updateState}\n                />\n              </div>\n            </div>\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport api from '../../api';\r\n\r\nimport './BackgroundVideo.css';\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      logged_in: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    api.getLoggedIn().then((json) => this.setState({ logged_in: json }));\r\n  }\r\n\r\n  render() {\r\n    if (this.state.logged_in) return <Redirect to={{ pathname: '/' }} />;\r\n    return (\r\n      <div>\r\n        <nav className='primary-color-background'>\r\n          <div className='nav-wrapper container'>\r\n            <a href='/' className='brand-logo center'>\r\n              ConnectedPeer\r\n            </a>\r\n          </div>\r\n        </nav>\r\n        <div class='video-background'>\r\n          <div class='video-foreground'>\r\n            <iframe\r\n              src='https://www.youtube.com/embed/tGTvMVjX3Eo?start=7&autoplay=1&mute=1&controls=0&rel=0&loop=1&list=PLnV3b5c0KJlq_xTir5-P7LnFAQcuSnPaV'\r\n              title='ConnectedPeer Promo'\r\n              frameborder='0'></iframe>\r\n          </div>\r\n        </div>\r\n        <div className='row section'>\r\n          <div className='col s12 m6 offset-m3 xl4 offset-xl4'>\r\n            <div className='card'>\r\n              <div className='card-image'>\r\n                <a href='https://connectedpeertutoring.org'>\r\n                  <img src='/images/Connected.svg' alt='ConnectedPeer Logo' />\r\n                </a>\r\n              </div>\r\n              <div className='card-content center-align'>\r\n                <a href='/auth/google'>\r\n                  <img\r\n                    src={'/images/GoogleLogin.png'}\r\n                    onMouseOver={(e) =>\r\n                      (e.currentTarget.src = '/images/GoogleLoginHover.png')\r\n                    }\r\n                    onMouseOut={(e) =>\r\n                      (e.currentTarget.src = '/images/GoogleLogin.png')\r\n                    }\r\n                    alt='Google Login'\r\n                  />\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport 'materialize-css/dist/css/materialize.min.css';\n\nimport { Switch, Route } from 'react-router-dom';\n\nimport Home from './components/Home';\nimport Login from './components/user/Login';\n\nclass App extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route path='/login' component={Login} />\n        <Route path='/' component={Home} />\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}